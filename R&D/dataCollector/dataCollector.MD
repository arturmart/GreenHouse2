Այս համակարգը կառուցված է Strategy ձևանմուշի հիման վրա և նախատեսված է տարբեր աղբյուրներից տվյալների հավաքման համար։ Բազային դասը ADataStrategy սահմանում է միասնական ինտերֆեյս, որը բաղկացած է երկու մեթոդից՝

tick() — թարմացնում է տվյալների աղբյուրը (օրինակ՝ կարդում է սենսորից կամ հարցում է ուղարկում API-ին)։

get() — վերադարձնում է վերջին արժեքը։ Քանի որ վերադարձվող տիպերը կարող են տարբեր լինել (float, int, bool և այլն), օգտագործվում է std::any, որը թույլ է տալիս պահել ցանկացած տիպի արժեք։

Կոնկրետ ռազմավարությունները իրականացնում են այս ինտերֆեյսը՝ յուրաքանչյուրն իր տրամաբանությամբ․

TempSensorStrategy — պահում և վերադարձնում է ջերմաստիճանը (float)։

TankLevelStrategy — պահում և վերադարձնում է բաքի լցվածության մակարդակը (int)։

GasSensorStrategy — պահում և վերադարձնում է գազի հայտնաբերման վիճակը (bool)։

DataCollector դասը հանդիսանում է կենտրոնական հավաքիչ։ Այն իր ներսում պահում է ռազմավարությունների ցուցակը unordered_map-ում, որտեղ բանալին տող (std::string) է, իսկ արժեքը՝ ռազմավարության ցուցիչ (std::unique_ptr<ADataStrategy>)։

init() մեթոդում գրանցվում են բոլոր հասանելի սենսորային ռազմավարությունները։

tickAll() մեթոդը հերթով կանչում է բոլոր ռազմավարությունների tick() մեթոդները։

getData(key) մեթոդը ըստ տրված բանալու վերադարձնում է տվյալ ռազմավարության արժեքը std::any տեսքով։

Այս լուծումը ապահովում է միասնական ինտերֆեյս տարբեր տեսակի սենսորների կամ տվյալների աղբյուրների համար և հեշտացնում է համակարգի ընդլայնումը՝ նոր ռազմավարություններ ավելացնելու միջոցով։

![dataCollectorArchetecture](https://github.com/arturmart/GreenHouse2/blob/master/R%26D/dataCollector/dataCollectorArchetecture.png)

Այս տեղ ել բերված է օրինակ [dataCollectorSample](https://github.com/arturmart/GreenHouse2/blob/master/R%26D/dataCollector/dataCollector.cpp)
